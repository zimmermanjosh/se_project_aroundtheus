!function(){"use strict";const e=document.querySelector("#profile-edit-modal"),t=document.querySelector("#profile-edit-button"),s=document.querySelector("#title-input"),o=document.querySelector("#profile-input"),n=e.querySelector("#profile-edit-form"),i=document.querySelector("#element-add-modal"),r=(document.querySelector("#element-image-modal"),document.querySelector("#profile-add-button")),l=document.querySelector(".elements__list"),a=i.querySelector(".modal__form"),m={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};class c{constructor(e,t,s){let{name:o,url:n}=e;this._name=o,this._url=n,this._templateSelector=t,this._handleCardClick=s}_setEventListeners(){this._cardElement.querySelector(".element__like-button").addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".element__delete-button").addEventListener("click",(()=>{this._handleDeleteButton()})),this._cardElement.querySelector(".element__img").addEventListener("click",(()=>{this._handlePreviewDisplay()}))}_handleLikeButton(){this._cardElement.querySelector(".element__like-button").classList.toggle("element__like-button_active")}_handleDeleteButton(){this._cardElement.remove(),this._cardElement=null}_handlePreviewDisplay(){this._handleCardClick(this._name,this._url)}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".elements__content").cloneNode(!0)}generateCard(){this._cardElement=this._getTemplate();const e=this._cardElement.querySelector(".element__img"),t=this._cardElement.querySelector(".element__text");return e.src=this._url,e.alt=this._name,t.textContent=this._name,this._setEventListeners(),this._cardElement}}class u{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formElement=t,this._inputList=[...this._formElement.querySelectorAll(this._inputSelector)],this._submitButton=this._formElement.querySelector(this._submitButtonSelector)}_showInputError(e,t){const s=this._formElement.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass)}_hideInputError(e){const t=this._formElement.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputList.some((e=>!e.validity.valid))}_enableButtonState(){this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_disableButtonState(){this._submitButton.classList.add(this._inactiveButtonClass),this._submitButton.disabled=!0}toggleButtonState(){this._hasInvalidInput(this._input)?this._disableButtonState():this._enableButtonState()}resetValidation(){this.toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}_setEventListeners(){this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formElement.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}}class _{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeByEscapeButton=this._closeByEscapeButton.bind(this),this._popupCloseButon=this._popupElement.querySelector(".modal__close")}open(){console.log("open popup!!!!"),this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._closeByEscapeButton)}close(){console.log("close popup!!!!"),this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._closeByEscapeButton)}_closeByEscapeButton=e=>{"Escape"===e.key&&(console.log("escape popup!!!!"),this.close())};setEventListeners(){this._popupElement.addEventListener("mousedown",(e=>{console.log("setEventListeners popup!!!!"),(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close(e.currentTarget)})),this._popupCloseButon.addEventListener("click",(e=>{console.log("popup close button in popup !!!!"),this.close()}))}}class d extends _{constructor(e,t){super({popupSelector:e}),this._formElement=this._popupElement.querySelector(".modal__form"),this._formInputs=this._formElement.querySelectorAll(".modal__input"),this._handleFormSubmit=t}close(){console.log("close popup w/form !!!!"),this._formElement.reset(),this._formElement.removeEventListener("submit",this._submitForm),super.close()}_getInputValues(){const e={};return this._formInputs.forEach((t=>{e[t.name]=t.value})),e}_submitForm=e=>{e.preventDefault(),console.log("popup w/form -- submit e !!!!",e);const t=this._getInputValues();this._handleFormSubmit(t)};setEventListeners(){super.setEventListeners(),this._formElement.addEventListener("submit",this._submitForm)}}const p=new class{constructor(e,t){let{items:s,renderer:o}=e;this._items=s,this._renderer=o,this._container=t}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"legend of billie jean",url:"https://m.media-amazon.com/images/M/MV5BNjIwOTgzN2QtZTY2Mi00MmU1LWFjMTItN2EwZTFhYTMwZGRjXkEyXkFqcGdeQXVyODY0NzcxNw@@._V1_.jpg"},{name:"ski patrol",url:"https://m.media-amazon.com/images/I/81A408tMCCL._AC_UF894,1000_QL80_.jpg"},{name:"better off dead",url:"https://shatpod.com/movies/wp-content/uploads/Better-Off-Dead-Movie-Poster-1985.jpg"},{name:"less then zero",url:"https://upload.wikimedia.org/wikipedia/en/3/34/Less_than_zero_1987_poster.jpg"},{name:"sixteen candles",url:"https://shatpod.com/movies/wp-content/uploads/rzTrRQg5ek47Yl0Vfenc69r9gOd-e1585675704809.jpg"},{name:"Labyrinth",url:"https://m.media-amazon.com/images/M/MV5BOWI3OGEzOTUtYWY4MS00ZDgwLWFlZjgtNjJmNjcyNGM1ZDI3XkEyXkFqcGdeQXVyMTUzMTg2ODkz._V1_.jpgv"},{name:"the last starfighter",url:"https://images.justwatch.com/poster/11067210/s718/the-last-starfighter.%7Bformat%7D"},{name:"real genius",url:"https://m.media-amazon.com/images/M/MV5BNTQ5MzU3ODg0OF5BMl5BanBnXkFtZTgwODM0MzQxMDE@._V1_.jpg"},{name:"secret of my success",url:"https://film-authority.com/wp-content/uploads/2021/07/maxresdefault-1.jpg"},{name:"legend",url:"https://twilightswarden.files.wordpress.com/2012/10/screenshot-lrg-07.png?w=1568"},{name:"teen wolf",url:"https://m.media-amazon.com/images/M/MV5BMGFmZTFhYjktMmYyZi00ZmE4LWI0NGEtMDY2MGEzMDY0YjdiXkEyXkFqcGdeQXVyMTQxNzMzNDI@._V1_.jpg"},{name:"weird science",url:"https://upload.wikimedia.org/wikipedia/en/d/d6/Movie_poster_for_Weird_Science_%281985%29.jpg"}],renderer:e=>{const t=L(e);p.addItem(t)}},l);p.renderItems();const h=new class{constructor(e,t){this._nameElement=e,this._jobElement=t}getUserInfo(){const e={};return e.profileName=this._nameElement.textContent,e.description=this._jobElement.textContent,e}setUserInfo(e,t){this._nameElement.textContent=e,this._jobElement.textContent=t}}(document.querySelector(".profile__title"),document.querySelector(".profile__description")),E=new u(m,n),g=new u(m,a),v=new d("#profile-edit-modal",(function(e){const{title:t,description:s}=e;h.setUserInfo(t,s),v.close()})),f=new d("#element-add-modal",(function(e){const{title:t,url:s}=e,o=L({name:t,url:s});p.addItem(o),f.close()})),y=new class extends _{constructor(e){super({popupSelector:e}),this._previewImageTitle=this._popupElement.querySelector(".modal__caption"),this._previewImageModal=this._popupElement.querySelector(".modal__image-preview")}open(e,t){this._previewImageModal.src=t,this._previewImageModal.alt=e,this._previewImageTitle.textContent=e,super.open()}}("#preview-modal");function S(e,t){y.open(e,t)}function L(e){return new c(e,"#element-template",S).generateCard()}t.addEventListener("click",(()=>{const{profileName:e,description:t}=h.getUserInfo();s.value=e,o.value=t,v.open(),E.resetValidation()})),r.addEventListener("click",(()=>{f.open(),g.resetValidation()})),E.enableValidation(),g.enableValidation(),v.setEventListeners(),y.setEventListeners(),f.setEventListeners()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBYWlFLEdBQ1hrQixNQUFNLENBQUVsQixrQkFDUjNELEtBQUt5SCxtQkFDSHpILEtBQUs0RCxjQUFjbkYsY0FBYyxtQkFDbkN1QixLQUFLMEgsbUJBQ0oxSCxLQUFLNEQsY0FBY25GLGNBQWMsd0JBQ3BDLENBRUF1RixJQUFBQSxDQUFLMkQsRUFBU0MsR0FDWjVILEtBQUswSCxtQkFBbUJ0RyxJQUFNd0csRUFDOUI1SCxLQUFLMEgsbUJBQW1CckcsSUFBTXNHLEVBQzlCM0gsS0FBS3lILG1CQUFtQm5HLFlBQWNxRyxFQUN0QzlDLE1BQU1iLE1BQ1IsR0gwQzBDLGtCQWU1QyxTQUFTNkQsRUFBdUJGLEVBQVNDLEdBQ3ZDSixFQUFpQnhELEtBQUsyRCxFQUFTQyxFQUNqQyxDQUVBLFNBQVN2QixFQUFXRixHQUdsQixPQURhLElBQUkxRyxFQUFLMEcsRUFBVSxvQkFBcUIwQixHQUN6QzVHLGNBQ2QsQ0FFQXZDLEVBQWtCNkIsaUJBQWlCLFNBQVMsS0FFMUMsTUFBTSxZQUFFc0csRUFBVyxZQUFFQyxHQUFnQlIsRUFBU0ssY0FDOUNoSSxFQUFrQjBHLE1BQVF3QixFQUMxQmpJLEVBQXdCeUcsTUFBUXlCLEVBQ2hDTSxFQUFpQnBELE9BQ2pCa0QsRUFBa0I3RCxpQkFBaUIsSUFHckN0RSxFQUFjd0IsaUJBQWlCLFNBQVMsS0FDdEMrRyxFQUFnQnRELE9BQ2hCbUQsRUFBaUI5RCxpQkFBaUIsSUFHcEM2RCxFQUFrQjNELG1CQUNsQjRELEVBQWlCNUQsbUJBRWpCNkQsRUFBaUI3QyxvQkFDakJpRCxFQUFpQmpELG9CQUNqQitDLEVBQWdCL0MsbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29uc3RhbnRzL3ZhcmlhYmxlcy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBpbml0aWFsaXplQ2FyZHMgPSBbXG5cbiAge1xuICAgIC8vb2JqZWN0IDFcbiAgICBuYW1lOiBcImxlZ2VuZCBvZiBiaWxsaWUgamVhblwiLFxuICAgIHVybDogXCJodHRwczovL20ubWVkaWEtYW1hem9uLmNvbS9pbWFnZXMvTS9NVjVCTmpJd09UZ3pOMlF0WlRZMk1pMDBNbVUxTFdGak1USXROMkV3WlRGaFlUTXdaR1JqWGtFeVhrRnFjR2RlUVhWeU9EWTBOemN4TndAQC5fVjFfLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3QgMlxuICAgIG5hbWU6IFwic2tpIHBhdHJvbFwiLFxuICAgIHVybDogXCJodHRwczovL20ubWVkaWEtYW1hem9uLmNvbS9pbWFnZXMvSS84MUE0MDh0TUNDTC5fQUNfVUY4OTQsMTAwMF9RTDgwXy5qcGdcIixcbiAgfSxcbiAge1xuICAgIC8vb2JqZWN0IDNcbiAgICBuYW1lOiBcImJldHRlciBvZmYgZGVhZFwiLFxuICAgIHVybDogXCJodHRwczovL3NoYXRwb2QuY29tL21vdmllcy93cC1jb250ZW50L3VwbG9hZHMvQmV0dGVyLU9mZi1EZWFkLU1vdmllLVBvc3Rlci0xOTg1LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3QgNFxuICAgIG5hbWU6IFwibGVzcyB0aGVuIHplcm9cIixcbiAgICB1cmw6IFwiaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvZW4vMy8zNC9MZXNzX3RoYW5femVyb18xOTg3X3Bvc3Rlci5qcGdcIixcbiAgfSxcbiAge1xuICAgIC8vb2JqZWN0IDVcbiAgICBuYW1lOiBcInNpeHRlZW4gY2FuZGxlc1wiLFxuICAgIHVybDogXCJodHRwczovL3NoYXRwb2QuY29tL21vdmllcy93cC1jb250ZW50L3VwbG9hZHMvcnpUclJRZzVlazQ3WWwwVmZlbmM2OXI5Z09kLWUxNTg1Njc1NzA0ODA5LmpwZ1wiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3QgNlxuICAgIG5hbWU6IFwiTGFieXJpbnRoXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vbS5tZWRpYS1hbWF6b24uY29tL2ltYWdlcy9NL01WNUJPV0kzT0dFek9UVXRZV1k0TVMwMFpEZ3dMV0ZsWmpndE5qSm1OamN5TkdNMVpESTNYa0V5WGtGcWNHZGVRWFZ5TVRVek1UZzJPRGt6Ll9WMV8uanBndlwiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3RcbiAgICBuYW1lOiBcInRoZSBsYXN0IHN0YXJmaWdodGVyXCIsXG4gICAgdXJsOiBcImh0dHBzOi8vaW1hZ2VzLmp1c3R3YXRjaC5jb20vcG9zdGVyLzExMDY3MjEwL3M3MTgvdGhlLWxhc3Qtc3RhcmZpZ2h0ZXIuJTdCZm9ybWF0JTdEXCIsXG4gIH0sXG4gIHtcbiAgICAvL29iamVjdFxuICAgIG5hbWU6IFwicmVhbCBnZW5pdXNcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9tLm1lZGlhLWFtYXpvbi5jb20vaW1hZ2VzL00vTVY1Qk5UUTVNelUzT0RnME9GNUJNbDVCYW5CblhrRnRaVGd3T0RNME16UXhNREVALl9WMV8uanBnXCIsXG4gIH0sXG4gIHtcbiAgICAvL29iamVjdFxuICAgIG5hbWU6IFwic2VjcmV0IG9mIG15IHN1Y2Nlc3NcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly9maWxtLWF1dGhvcml0eS5jb20vd3AtY29udGVudC91cGxvYWRzLzIwMjEvMDcvbWF4cmVzZGVmYXVsdC0xLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3RcbiAgICBuYW1lOiBcImxlZ2VuZFwiLFxuICAgIHVybDogXCJodHRwczovL3R3aWxpZ2h0c3dhcmRlbi5maWxlcy53b3JkcHJlc3MuY29tLzIwMTIvMTAvc2NyZWVuc2hvdC1scmctMDcucG5nP3c9MTU2OFwiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3RcbiAgICBuYW1lOiBcInRlZW4gd29sZlwiLFxuICAgIHVybDogXCJodHRwczovL20ubWVkaWEtYW1hem9uLmNvbS9pbWFnZXMvTS9NVjVCTUdGbVpURmhZamt0TW1ZeVppMDBabUU0TFdJME5HRXRNRFkyTUdFek1EWTBZamRpWGtFeVhrRnFjR2RlUVhWeU1UUXhOek16TkRJQC5fVjFfLmpwZ1wiLFxuICB9LFxuICB7XG4gICAgLy9vYmplY3RcbiAgICBuYW1lOiBcIndlaXJkIHNjaWVuY2VcIixcbiAgICB1cmw6IFwiaHR0cHM6Ly91cGxvYWQud2lraW1lZGlhLm9yZy93aWtpcGVkaWEvZW4vZC9kNi9Nb3ZpZV9wb3N0ZXJfZm9yX1dlaXJkX1NjaWVuY2VfJTI4MTk4NSUyOS5qcGdcIixcbiAgfVxuXTtcblxuY29uc3QgcHJvZmlsZUVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idXR0b25cIik7XG5cbmNvbnN0IHByb2ZpbGVUaXRsZUlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0aXRsZS1pbnB1dFwiKTtcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWlucHV0XCIpO1xuXG5jb25zdCBwcm9maWxlRWRpdEZvcm0gPSBwcm9maWxlRWRpdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1lZGl0LWZvcm1cIik7XG5jb25zdCBlbGVtZW50QWRkTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VsZW1lbnQtYWRkLW1vZGFsXCIpO1xuY29uc3QgZWxlbWVudEltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VsZW1lbnQtaW1hZ2UtbW9kYWxcIik7XG5jb25zdCBjYXJkQWRkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWFkZC1idXR0b25cIik7XG5cbi8vZWxlbWVudHMgfHwgY2FyZHMgdmFyaWFibGVcbmV4cG9ydCBjb25zdCBjYXJkc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmVsZW1lbnRzX19saXN0XCIpO1xuXG5jb25zdCBjYXJkQWRkRm9ybSA9IGVsZW1lbnRBZGRNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuLy9jb25zdCBjYXJkQWRkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWxlbWVudC1hZGQtZm9ybVwiKTtcbmNvbnN0IGNvbmZpZ1ZhbGlkYXRpb24gPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2J1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxufVxuZXhwb3J0IHtcbiAgaW5pdGlhbGl6ZUNhcmRzLFxuICBwcm9maWxlRWRpdEJ1dHRvbixcbiAgcHJvZmlsZUVkaXRNb2RhbCxcbiAgcHJvZmlsZVRpdGxlSW5wdXQsXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LFxuICBwcm9maWxlRWRpdEZvcm0sXG4gIGVsZW1lbnRBZGRNb2RhbCxcbiAgZWxlbWVudEltYWdlTW9kYWwsXG4gIGNvbmZpZ1ZhbGlkYXRpb24sXG4gIGNhcmRBZGRCdXR0b24sXG4gIGNhcmRBZGRGb3JtXG59IiwiaW1wb3J0ICcvc3JjL2NvbnN0YW50cy92YXJpYWJsZXMuanMnO1xuaW1wb3J0IHtlbGVtZW50SW1hZ2VNb2RhbH0gZnJvbSBcIi4uL2NvbnN0YW50cy92YXJpYWJsZXNcIjtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3Rvcih7bmFtZSwgdXJsfSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlQ2FyZENsaWNrKSB7XG5cbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgdGhpcy5fdGVtcGxhdGVTZWxlY3RvciA9IHRlbXBsYXRlU2VsZWN0b3I7XG4gICAgdGhpcy5faGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnRfX2xpa2UtYnV0dG9uJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgdGhpcy5faGFuZGxlTGlrZUJ1dHRvbigpO1xuICAgICAgfSk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9fZGVsZXRlLWJ1dHRvbicpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbigpO1xuICAgICAgfSk7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudF9faW1nJylcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4ge1xuICAgICAgICB0aGlzLl9oYW5kbGVQcmV2aWV3RGlzcGxheSgpO1xuICAgICAgfSk7XG4gIH1cblxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50X19saWtlLWJ1dHRvbicpXG4gICAgICAuY2xhc3NMaXN0LnRvZ2dsZSgnZWxlbWVudF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XG4gIH1cblxuICBfaGFuZGxlRGVsZXRlQnV0dG9uKCkge1xuICAgIHRoaXMuX2NhcmRFbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gbnVsbDtcbiAgfVxuXG4gIF9oYW5kbGVQcmV2aWV3RGlzcGxheSgpIHtcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sodGhpcy5fbmFtZSwgdGhpcy5fdXJsKTtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgIHJldHVybiBkb2N1bWVudFxuICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudHNfX2NvbnRlbnRcIikuY2xvbmVOb2RlKHRydWUpO1xuXG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fY2FyZEVsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIGNvbnN0IGNhcmRJbWFnZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9faW1nXCIpO1xuICAgIGNvbnN0IGNhcmRUaXRsZSA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZWxlbWVudF9fdGV4dFwiKTtcblxuICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLl91cmw7XG4gICAgY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XG4gICAgY2FyZFRpdGxlLnRleHRDb250ZW50ID0gdGhpcy5fbmFtZTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICByZXR1cm4gdGhpcy5fY2FyZEVsZW1lbnQ7XG4gIH1cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcblxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9mb3JtRWxlbWVudCA9IGZvcm1FbGVtZW50O1xuXG4gICAgLy90aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcblxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCwgZXJyb3JNZXNzYWdlKSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgcmV0dXJuICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQ7XG4gICAgfSk7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uU3RhdGUoKSB7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfZGlzYWJsZUJ1dHRvblN0YXRlKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0KSkge1xuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvblN0YXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2VuYWJsZUJ1dHRvblN0YXRlKCk7XG4gICAgfVxuICB9XG5cbiAgcmVzZXRWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcblxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcbiAgICAvL3RoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXB7XG4gIGNvbnN0cnVjdG9yKHtwb3B1cFNlbGVjdG9yfSl7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9jbG9zZUJ5RXNjYXBlQnV0dG9uID0gdGhpcy5fY2xvc2VCeUVzY2FwZUJ1dHRvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuX3BvcHVwQ2xvc2VCdXRvbiA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcbiAgfVxuXG4gIG9wZW4oKXtcbiAgICBjb25zb2xlLmxvZyhcIm9wZW4gcG9wdXAhISEhXCIpO1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2Nsb3NlQnlFc2NhcGVCdXR0b24pO1xuICB9XG5cbiAgY2xvc2UoKXtcbiAgICBjb25zb2xlLmxvZyhcImNsb3NlIHBvcHVwISEhIVwiKTtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9jbG9zZUJ5RXNjYXBlQnV0dG9uKTtcbiAgfVxuICBfY2xvc2VCeUVzY2FwZUJ1dHRvbiA9IChlKSA9PiB7XG4gICAgaWYgKGUua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICBjb25zb2xlLmxvZyhcImVzY2FwZSBwb3B1cCEhISFcIik7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcInNldEV2ZW50TGlzdGVuZXJzIHBvcHVwISEhIVwiKTtcbiAgICAgIGlmIChcbiAgICAgICAgLy9yZW1vdmVkICcuJyBpbiBmcm9udCBvZiB0YXJnZXRcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXG4gICAgICApe1xuICAgICAgICB0aGlzLmNsb3NlKGUuY3VycmVudFRhcmdldCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLl9wb3B1cENsb3NlQnV0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcInBvcHVwIGNsb3NlIGJ1dHRvbiBpbiBwb3B1cCAhISEhXCIpO1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIiwiaW1wb3J0IFBvcHVwIGZyb20gJy4vUG9wdXAuanMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHtwb3B1cFNlbGVjdG9yfSk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9mb3JtSW5wdXRzID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICBjb25zb2xlLmxvZyhcImNsb3NlIHBvcHVwIHcvZm9ybSAhISEhXCIpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LnJlc2V0KCk7XG4gICAgdGhpcy5fZm9ybUVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9zdWJtaXRGb3JtKTtcbiAgICBzdXBlci5jbG9zZSgpXG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgLy9jb25zb2xlLmxvZyhcInBvcHVwIHcvZm9ybSAtLSBnZXQgaW5wdXRzIHZhbHVlICEhISFcIik7XG4gICAgY29uc3QgaW5wdXRzID0ge307XG4gICAgLy9jb25zb2xlLmxvZyhcIklucHV0cyB2YWx1ZTpcIiwgaW5wdXRzKTtcbiAgICB0aGlzLl9mb3JtSW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICAvL2NvbnNvbGUubG9nKFwiSW5wdXRzIGZvckVhY2g6XCIsIGlucHV0cyk7XG4gICAgICAvL2lmIChpbnB1dC52YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICBpbnB1dHNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIklucHV0cyB2YWx1ZTpcIiwgaW5wdXRzKTtcbiAgICAgLy8gfVxuICAgIH0pO1xuICAgIC8vY29uc29sZS5sb2coXCJwb3B1cCB3L2Zvcm0gLS0gcmV0dXJuIGlucHV0cyB2YWx1ZSAhISEhXCIpO1xuXG4gICAgcmV0dXJuIGlucHV0cztcbiAgfVxuXG4gIF9zdWJtaXRGb3JtID0gKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgY29uc29sZS5sb2coXCJwb3B1cCB3L2Zvcm0gLS0gc3VibWl0IGUgISEhIVwiLCBlKTtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHRoaXMuX2dldElucHV0VmFsdWVzKCk7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdChpbnB1dFZhbHVlcyk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHRoaXMuX2Zvcm1FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIHRoaXMuX3N1Ym1pdEZvcm0pO1xuICB9XG59IiwiaW1wb3J0IENhcmQgZnJvbSAnL3NyYy9jb21wb25lbnRzL0NhcmQuanMnO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSAnL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSAnL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMnO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcvc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyc7XG5pbXBvcnQgVXNlckluZm8gZnJvbSAnL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzJztcbmltcG9ydCB7XG4gIGluaXRpYWxpemVDYXJkcyxcbiAgcHJvZmlsZUVkaXRCdXR0b24sXG4gIHByb2ZpbGVUaXRsZUlucHV0LFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgcHJvZmlsZUVkaXRGb3JtLFxuICBjb25maWdWYWxpZGF0aW9uLFxuICBjYXJkQWRkQnV0dG9uLFxuICBjYXJkQWRkRm9ybSxcbiAgY2FyZHNMaXN0XG59IGZyb20gJy9zcmMvY29uc3RhbnRzL3ZhcmlhYmxlcyc7XG5cbmltcG9ydCAnL3NyYy9wYWdlcy9pbmRleC5jc3MnO1xuXG5jb25zdCBzZWN0aW9uID0gbmV3IFNlY3Rpb24oe1xuICBpdGVtczogaW5pdGlhbGl6ZUNhcmRzLFxuICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSByZW5kZXJDYXJkKGNhcmREYXRhKTtcbiAgICBzZWN0aW9uLmFkZEl0ZW0oY2FyZEVsZW1lbnQpO1xuICAgIH0sXG4gIH0sXG4gIGNhcmRzTGlzdCxcbik7XG5cbnNlY3Rpb24ucmVuZGVySXRlbXMoKTtcblxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fdGl0bGVcIiksXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIpLFxuKVxuXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKFxuICBjb25maWdWYWxpZGF0aW9uLFxuICBwcm9maWxlRWRpdEZvcm1cbik7XG5cbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihcbiAgY29uZmlnVmFsaWRhdGlvbixcbiAgY2FyZEFkZEZvcm1cbik7XG5cbmNvbnN0IHByb2ZpbGVFZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcHJvZmlsZS1lZGl0LW1vZGFsXCIsXG4gIGhhbmRsZVByb2ZpbGVGb3JtU3VibWl0XG4pO1xuXG5jb25zdFxuICBhZGROZXdDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjZWxlbWVudC1hZGQtbW9kYWxcIlxuICAsIGhhbmRsZU5ld0NhcmRTdWJtaXRcbik7XG5cbmNvbnN0IGNhcmRQcmV2aWV3UG9wdXAgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcHJldmlldy1tb2RhbFwiKTtcblxuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24gfSA9IGlucHV0VmFsdWVzO1xuICB1c2VySW5mby5zZXRVc2VySW5mbyggdGl0bGUsIGRlc2NyaXB0aW9uICk7XG4gIHByb2ZpbGVFZGl0UG9wdXAuY2xvc2UoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlTmV3Q2FyZFN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBjb25zdCB7IHRpdGxlICwgdXJsIH0gPSBpbnB1dFZhbHVlcztcbiAgY29uc3QgbmV3RWxlbWVudERhdGEgPSByZW5kZXJDYXJkKHsgbmFtZTogdGl0bGUsIHVybDogdXJsIH0pO1xuICBzZWN0aW9uLmFkZEl0ZW0obmV3RWxlbWVudERhdGEpO1xuICBhZGROZXdDYXJkUG9wdXAuY2xvc2UoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQ2FyZFByZXZpZXdDbGljayhjYXB0aW9uLCBpbWFnZVVybCkge1xuICBjYXJkUHJldmlld1BvcHVwLm9wZW4oY2FwdGlvbiwgaW1hZ2VVcmwpO1xufVxuXG5mdW5jdGlvbiByZW5kZXJDYXJkKGNhcmREYXRhKSB7XG4gIC8vY29uc3QgY2FyZCA9IG5ldyBDYXJkKGNhcmREYXRhLCBcIiNlbGVtZW50LXRlbXBsYXRlXCIsIGhhbmRsZUNhcmRQcmV2aWV3Q2xpY2spO1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoY2FyZERhdGEsIFwiI2VsZW1lbnQtdGVtcGxhdGVcIiwgaGFuZGxlQ2FyZFByZXZpZXdDbGljayk7XG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufVxuXG5wcm9maWxlRWRpdEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAvL2RlYnVnZ2VyO1xuICBjb25zdCB7IHByb2ZpbGVOYW1lLCBkZXNjcmlwdGlvbiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBwcm9maWxlTmFtZTtcbiAgcHJvZmlsZURlc2NyaXB0aW9uSW5wdXQudmFsdWUgPSBkZXNjcmlwdGlvbjtcbiAgcHJvZmlsZUVkaXRQb3B1cC5vcGVuKCk7XG4gIGVkaXRGb3JtVmFsaWRhdG9yLnJlc2V0VmFsaWRhdGlvbigpO1xufSk7XG5cbmNhcmRBZGRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkTmV3Q2FyZFBvcHVwLm9wZW4oKTtcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxucHJvZmlsZUVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuY2FyZFByZXZpZXdQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuYWRkTmV3Q2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IobmFtZUVsZW1lbnQsIGpvYkVsZW1lbnQpIHtcbiAgICB0aGlzLl9uYW1lRWxlbWVudCA9IG5hbWVFbGVtZW50O1xuICAgIHRoaXMuX2pvYkVsZW1lbnQgPSBqb2JFbGVtZW50O1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKXtcbiAgICBjb25zdCBkYXRhID17fTtcbiAgICBkYXRhLnByb2ZpbGVOYW1lID0gdGhpcy5fbmFtZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgZGF0YS5kZXNjcmlwdGlvbiA9IHRoaXMuX2pvYkVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lRGF0YSwgam9iRGF0YSkge1xuICAgIHRoaXMuX25hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZURhdGE7XG4gICAgdGhpcy5fam9iRWxlbWVudC50ZXh0Q29udGVudCA9IGpvYkRhdGE7XG4gIH1cbn0iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKCBwb3B1cFNlbGVjdG9yICkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VUaXRsZSA9XG4gICAgICB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2VNb2RhbCA9XG4gICAgIHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZS1wcmV2aWV3XCIpO1xuICB9XG5cbiAgb3BlbihjYXB0aW9uLCBpbWFnZVVybCkge1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZU1vZGFsLnNyYyA9IGltYWdlVXJsO1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZU1vZGFsLmFsdCA9IGNhcHRpb247XG4gICAgdGhpcy5fcHJldmlld0ltYWdlVGl0bGUudGV4dENvbnRlbnQgPSBjYXB0aW9uO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbInByb2ZpbGVFZGl0TW9kYWwiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJwcm9maWxlRWRpdEJ1dHRvbiIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJwcm9maWxlRWRpdEZvcm0iLCJlbGVtZW50QWRkTW9kYWwiLCJjYXJkQWRkQnV0dG9uIiwiY2FyZHNMaXN0IiwiY2FyZEFkZEZvcm0iLCJjb25maWdWYWxpZGF0aW9uIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwidGVtcGxhdGVTZWxlY3RvciIsImhhbmRsZUNhcmRDbGljayIsIm5hbWUiLCJ1cmwiLCJ0aGlzIiwiX25hbWUiLCJfdXJsIiwiX3RlbXBsYXRlU2VsZWN0b3IiLCJfaGFuZGxlQ2FyZENsaWNrIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NhcmRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9oYW5kbGVQcmV2aWV3RGlzcGxheSIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJjYXJkSW1hZ2UiLCJjYXJkVGl0bGUiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtRWxlbWVudCIsIl9pbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJfZm9ybUVsZW1lbnQiLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvck1lc3NhZ2UiLCJlcnJvckVsZW1lbnQiLCJpZCIsImFkZCIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsIl9lbmFibGVCdXR0b25TdGF0ZSIsImRpc2FibGVkIiwiX2Rpc2FibGVCdXR0b25TdGF0ZSIsInRvZ2dsZUJ1dHRvblN0YXRlIiwiX2lucHV0IiwicmVzZXRWYWxpZGF0aW9uIiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCeUVzY2FwZUJ1dHRvbiIsImJpbmQiLCJfcG9wdXBDbG9zZUJ1dG9uIiwib3BlbiIsImNvbnNvbGUiLCJsb2ciLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlIiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsImN1cnJlbnRUYXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm1JbnB1dHMiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsInJlc2V0IiwiX3N1Ym1pdEZvcm0iLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dHMiLCJpbnB1dCIsInZhbHVlIiwiaW5wdXRWYWx1ZXMiLCJzZWN0aW9uIiwiY29udGFpbmVyIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkRGF0YSIsImNhcmRFbGVtZW50IiwicmVuZGVyQ2FyZCIsInVzZXJJbmZvIiwibmFtZUVsZW1lbnQiLCJqb2JFbGVtZW50IiwiX25hbWVFbGVtZW50IiwiX2pvYkVsZW1lbnQiLCJnZXRVc2VySW5mbyIsImRhdGEiLCJwcm9maWxlTmFtZSIsImRlc2NyaXB0aW9uIiwic2V0VXNlckluZm8iLCJuYW1lRGF0YSIsImpvYkRhdGEiLCJlZGl0Rm9ybVZhbGlkYXRvciIsImFkZEZvcm1WYWxpZGF0b3IiLCJwcm9maWxlRWRpdFBvcHVwIiwidGl0bGUiLCJhZGROZXdDYXJkUG9wdXAiLCJuZXdFbGVtZW50RGF0YSIsImNhcmRQcmV2aWV3UG9wdXAiLCJfcHJldmlld0ltYWdlVGl0bGUiLCJfcHJldmlld0ltYWdlTW9kYWwiLCJjYXB0aW9uIiwiaW1hZ2VVcmwiLCJoYW5kbGVDYXJkUHJldmlld0NsaWNrIl0sInNvdXJjZVJvb3QiOiIifQ==